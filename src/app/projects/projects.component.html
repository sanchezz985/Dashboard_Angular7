<div class="projects-title">
  <h1>
    {{ title }}
  </h1>
</div>
<div class="row projects-container">
  <mat-drawer-container class="dashboard" autosize style="margin: 20px; width: 100%">

    <div class="dashboard-sidenav-content">

      <div class="col-12 dashboard-container-content">

        <mat-form-field>
          <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
        </mat-form-field>

        <div class="mat-elevation-z8">

          <table mat-table [dataSource]="projectsDataSource" matSort >

            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
              <td mat-cell *matCellDef="let element" (click)="drawer.toggle()" (click)= "showProjectInfo($event, element)"> {{element.name}} </td>
            </ng-container>

            <ng-container matColumnDef="description">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Description </th>
              <td mat-cell *matCellDef="let element" (click)="drawer.toggle()" (click)= "showProjectInfo($event, element)"> {{element.description}} </td>
            </ng-container>

            <ng-container matColumnDef="version">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Version </th>
              <td mat-cell *matCellDef="let element" (click)="drawer.toggle()" (click)= "showProjectInfo($event, element)"> {{element.version}} </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

          </table>

          <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>

        </div>

      </div>

    </div>

    <mat-drawer #drawer class="dashboard-sidenav" mode="side" position="end">
      <div class="row">
        <div class="col-12">
          <h5>Project Information</h5>
          <div class="dashboard-project-information" ngModel="selectedProject">
            <mat-form-field>
              <label>Name</label>
              <input matInput value="{{selectedProject.name}}" disabled>
            </mat-form-field>
            <mat-form-field>
              <label>Description</label>
              <input matInput value="{{selectedProject.description}}" disabled>
            </mat-form-field>
            <mat-form-field>
              <label>Creation Date</label>
              <input matInput value="{{selectedProject.creationDate}}" disabled>
            </mat-form-field>
            <!--<mat-form-field>
              <label>Peripherals</label>
              <input matInput value="{{selectedProject.peripherals}}" disabled>
            </mat-form-field>-->
            <mat-form-field>
              <label>Version</label>
              <input matInput value="{{selectedProject.version}}" disabled>
            </mat-form-field>
          </div>
        </div>
      </div>
    </mat-drawer>


  </mat-drawer-container>

</div>
